# üî• Doomfire GBA Demo

Este √© um projeto de demonstra√ß√£o para **Game Boy Advance (GBA)** que implementa o cl√°ssico efeito **Doom Fire**.
O objetivo √© reproduzir o efeito de fogo em tempo real respeitando as limita√ß√µes de hardware do GBA, utilizando acesso direto √† VRAM e manipula√ß√£o eficiente de mem√≥ria.

Inspirado na implementa√ß√£o apresentada por **Filipe Deschamps** no v√≠deo _"Tutorial completo de como programar o Fogo do DOOM (JavaScript puro)"_, que explica de forma did√°tica o algoritmo e sua l√≥gica de propaga√ß√£o.

![Demonstra√ß√£o Doom Fire](assets/doomfire-demo.gif)

---

## Funcionalidades

- Simula√ß√£o em tempo real do efeito **Doom Fire**.
- Paleta de cores customizada para o GBA.
- Atualiza√ß√£o eficiente da tela usando buffers e acesso direto √† VRAM.
- Estrutura simples e did√°tica para estudo de efeitos gr√°ficos no GBA.

---

## Algoritmo Doom Fire

O efeito Doom Fire √© baseado em uma **propaga√ß√£o vertical de intensidade de pixels**:

- A √∫ltima linha da tela √© constantemente alimentada com valores m√°ximos de intensidade (fonte do fogo).
- Cada pixel acima calcula sua intensidade a partir de pixels abaixo, com uma pequena atenua√ß√£o aleat√≥ria.
- O resultado cria a ilus√£o de chamas subindo e se dissipando.

### üî¢ Representa√ß√£o do Fogo

- Cada pixel √© representado por um **√≠ndice de intensidade**.
- Esse √≠ndice √© usado para acessar uma **paleta de cores**, indo de tons escuros at√© branco/amarelo intenso.
- O buffer de intensidades √© atualizado a cada frame.

### üîÅ Passo b√°sico do algoritmo

1. Inicializa a base do fogo com intensidade m√°xima.
2. Para cada pixel:

   - L√™ um pixel abaixo
   - Subtrai um valor aleat√≥rio pequeno
   - Propaga o valor para cima com deslocamento horizontal opcional

Essa t√©cnica √© extremamente leve e ideal para hardware limitado como o GBA.

---

## Requisitos

- [Docker](https://www.docker.com/)
- [Docker Compose](https://docs.docker.com/compose/)

> üí° O **devkitPro** j√° est√° inclu√≠do no ambiente Docker, n√£o sendo necess√°rio instal√°-lo localmente.

---

## Como gerar o arquivo `.gba`

O build do projeto utiliza **devkitPro** dentro de um container Docker.

Execute na raiz do projeto:

```bash
docker compose -f docker-compose.yml up
```

### üì¶ Sa√≠da do build

Ap√≥s a execu√ß√£o, o arquivo gerado estar√° dispon√≠vel em:

```text
./build/doomfire.gba
```

Esse arquivo pode ser executado em emuladores como:

- mGBA
- VisualBoyAdvance
- No$GBA

Ou em hardware real usando flashcarts compat√≠veis.

---

## Cr√©ditos

- **[devkitPro](https://devkitpro.org/)** ‚Äì Toolchain para desenvolvimento GBA
- **[libtonc](https://www.coranac.com/tonc/text/toc.htm)** ‚Äì Biblioteca e documenta√ß√£o para GBA
- üé• **Filipe Deschamps** ‚Äì Pela inspira√ß√£o e explica√ß√£o.
  V√≠deo: [Tutorial completo de como programar o Fogo do DOOM (JavaScript puro)](https://www.youtube.com/watch?v=fxm8cadCqbs)

---

Sinta-se livre para estudar, modificar e expandir este projeto.

Feito em C e nostalgia.
